(function(d){window.NM_Portfolio={init:function(){this.$pageIncludes=d("#nm-page-includes");if(this.$pageIncludes.hasClass("portfolio"))for(var a=d(".nm-portfolio-grid"),b=0;b<a.length;b++){var e=d(a[b]),c=e.siblings(".nm-portfolio-categories");this.packeryLayout(e);c.length&&c.hasClass("js-sorting")&&this.categoriesAnimatedSorting(c)}},packeryLayout:function(a){a.parent(".nm-portfolio").hasClass("packery-enabled")&&(a.packery({itemSelector:"li",gutter:0,isInitLayout:!1}),a.packery("once","layoutComplete",
function(){a.removeClass("nm-loader").addClass("show")}),a.packery())},categoriesAnimatedSorting:function(a){a.find("a").on("click",function(b){b.preventDefault();b=d(this);var e=b.closest(".nm-portfolio");if(!b.hasClass("current")){e.children(".nm-portfolio-categories").children(".current").removeClass("current");b.parent("li").addClass("current");var c=e.children(".nm-portfolio-grid"),h=c.children("li"),k=b.data("filter"),g=e.hasClass("packery-enabled")?!0:!1;if(k){var f;h.each(function(){f=d(this);
f.hasClass(k)?(g&&c.packery("unignore",f[0]),f.removeClass("hide fade-out")):(g&&c.packery("ignore",f[0]),f.addClass("hide fade-out"))})}else g&&h.each(function(){c.packery("unignore",d(this)[0])}),h.removeClass("hide fade-out");g&&c.packery()}})}};d(window).on("load",function(){window.NM_Portfolio.init()})})(jQuery);