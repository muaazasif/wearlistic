!function(t){"use strict";function o(o,e,i,c){if("MutationObserver"in window){var n=t(o)[0];new(window.MutationObserver||window.WebKitMutationObserver)((function(o){o.forEach((function(o){if(o.addedNodes.length&&t(o.addedNodes).length){var n=e,s=t(o.addedNodes).filter(e);if(""!=i&&(s=s.find(i),n=e+" "+i),s.each((function(o){c(t(this),o+1,s.length,n,!0)})),!s.length){var a=t(o.addedNodes).find(n);a.each((function(o){c(t(this),o+1,a.length,n,!0)}))}}}))})).observe(n,{childList:!0,subtree:!0})}}function e(t,o,e){if("MutationObserver"in window){var i=t[0];new(window.MutationObserver||window.WebKitMutationObserver)((function(t){t.forEach((function(t){""!=o?(!t.oldValue||!t.oldValue.match(o)&&t.oldValue.match("loading"))&&t.target.classList&&t.target.classList.contains(o)&&e():t.oldValue&&!t.oldValue.match("loading")||e()}))})).observe(i,{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]})}}var i={messages:[],open:!1,init:function(){o("body",".woocommerce-error","",i.readNotice),o("body",".woocommerce-message","",i.readNotice),o("body",".woocommerce-info","",i.readNotice),o("body",".woocommerce-notice","",i.readNotice),o("body",".wc-block-components-notice-banner","",i.readNotice),i.checkExistingElements(".woocommerce-error"),i.checkExistingElements(".woocommerce-message"),i.checkExistingElements(".woocommerce-info"),i.checkExistingElements(".woocommerce-notice"),i.checkExistingElements(".wc-block-components-notice-banner")},checkExistingElements:function(o){var e=t(o);e.length&&e.each((function(c){i.readNotice(t(this),c+1,e.length,o,!1)}))},readNotice:function(o,e,c,n,s){t(".page-notifications").css("top",t(".top-headers-wrapper").outerHeight()+t("#wpadminbar").outerHeight());var a=n.match(/-(error|message|info|notice|success)/);a=a&&a[1]?a[1]:"success",e<=c&&i.storeMessage(o,a,s),e==c&&(i.clearPopupMessages(),i.addMessagesToPopup(),setTimeout((function(){i.openPopup(o)}),100),setTimeout((function(){i.messages=[]}),1e3))},clearPopupMessages:function(){t("#gbt-custom-notification-notice").find(".gbt-custom-notification-content").empty()},removeDuplicatedMessages:function(){for(var t={},o=0,e=i.messages.length;o<e;o++)t[i.messages[o].message]=i.messages[o];for(var c in i.messages=new Array,t)i.messages.push(t[c])},isMessageValid:function(t,o){return!(["<p></p>",'<ul class="msg"></ul>',"<ul></ul>"].filter((function(o){return-1!==t.indexOf(o)})).length>0)},storeMessage:function(t,o,e){i.isMessageValid(t.html(),e)&&(i.messages.push({message:t.html(),type:o,dynamic:e}),i.removeDuplicatedMessages())},getAdditionalIconClass:function(t){var o="";switch(t){case"success":o=gbt_cn_info.success_icon_class;break;case"error":o=gbt_cn_info.error_icon_class;break;case"info":o=gbt_cn_info.info_icon_class}return""==o&&(o+=" "+gbt_cn_info.icon_default_class),o},addMessagesToPopup:function(o){t.each(i.messages,(function(o,e){var c=i.getAdditionalIconClass(e.type),n=e.dynamic?"gbt-cn-dynamic":"gbt-cn-static";""!=e.message&&(e.message.indexOf("product_notification_background")>=0?t("#gbt-custom-notification-notice .gbt-custom-notification-content").append("<div class='gbt-custom-notification-notice "+e.type+" "+n+" '>"+e.message+"</div>"):t("#gbt-custom-notification-notice .gbt-custom-notification-content").append("<div class='gbt-custom-notification-notice "+e.type+" "+n+" '><i class='gbt-custom-notification-notice-icon "+c+"'></i><div class='gbt-custom-notification-message'><div>"+e.message+"</div></div></div>"))}))},openPopup:function(){t(".gbt-custom-notification-notice").addClass("open-notice"),t(".page-notifications").hasClass("slide-out")&&setTimeout((function(){t(".gbt-custom-notification-notice").removeClass("open-notice").addClass("close-notice")}),2250)}};document.addEventListener("DOMContentLoaded",(function(){i.init(),t("body").trigger({type:"gbt_cn",obj:i}),t(document).on("click",".page-notifications.slide-in .gbt-custom-notification-notice",(function(){t(this).removeClass("open-notice").addClass("close-notice")})),t("body.gbt_custom_notif.single-product").on("click touchend",".product.product-type-simple .columns > .product_infos .cart .ajax_add_to_cart",(function(o){if(t("body").find(".product_layout_classic").length>0)var i=t(".woocommerce-product-gallery .woocommerce-product-gallery__wrapper > .woocommerce-product-gallery__image img").attr("src")||"";else i=t(".woocommerce-product-gallery__wrapper .product_images .product-image:first-child img").attr("src")||"";var c=t(".product_title").html()||"";e(t(this),"added",(function(){t("#content").prepend('<div class="woocommerce-message"><div class="product_notification_wrapper"><div class="product_notification_background"><img src="'+i+'" alt="Notification Image" /></div><div class="product_notification_text"><div>'+gbt_cn_info.cartButton+"&quot;"+c+"&quot; "+gbt_cn_info.addedToCartMessage+"</div></div></div></div>")}))})),t("body").on("click touchend",".products .ajax_add_to_cart",(function(){var o=t(this).parents(".product").find(".product_thumbnail_wrapper img").attr("src")||"",i=t(this).parents(".product").find(".woocommerce-loop-product__title a").html()||"";e(t(this),"added",(function(){t(".st-content").prepend('<div class="woocommerce-message"><div class="product_notification_wrapper"><div class="product_notification_background"><img src="'+o+'" alt="Notification Image" /></div><div class="product_notification_text"><div>'+gbt_cn_info.cartButton+"&quot;"+i+"&quot; "+gbt_cn_info.addedToCartMessage+"</div></div></div></div>")}))})),t("body.gbt_custom_notif.woocommerce-wishlist").on("click touchend",".ajax_add_to_cart",(function(){var o=t(this).parents("tr").find(".product-thumbnail img").attr("src")||"",i=t(this).parents("tr").find(".product-name a").html()||"";e(t(this),"",(function(){t(".st-content").prepend('<div class="woocommerce-message"><div class="product_notification_wrapper"><div class="product_notification_background"><img src="'+o+'" alt="Notification Image" /></div><div class="product_notification_text"><div>'+gbt_cn_info.cartButton+"&quot;"+i+"&quot; "+gbt_cn_info.addedToCartMessage+"</div></div></div></div>")}))}))}))}(jQuery);